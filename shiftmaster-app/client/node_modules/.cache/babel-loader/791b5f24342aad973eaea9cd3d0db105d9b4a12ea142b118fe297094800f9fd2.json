{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\OneDrive\\\\Desktop\\\\shiftmaster-webapp\\\\shiftmaster-app\\\\client\\\\src\\\\components\\\\Schedulegrid.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ScheduleGrid({\n  employees,\n  dates,\n  assignments,\n  roles,\n  timeSlots,\n  onCellClick,\n  onRemoveEmployee,\n  isEditable\n}) {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const getAssignmentForCell = (employeeId, dateFullKey) => {\n    const assignment = assignments.find(assign => assign.employee_id === employeeId && assign.assignment_date === dateFullKey);\n    return assignment;\n  };\n  if (employees.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-slate-400 dark:text-slate-500 italic justify-center bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg flex\",\n      children: \"No employees found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"schedule-grid\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-header sticky left-0 z-20 border-r border-slate-200 dark:border-slate-700\",\n      children: \"Employee\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), dates.map(date => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-header border-r border-slate-200 dark:border-slate-700 last:border-r-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs opacity-70 uppercase\",\n        children: date.dayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg text-slate-700 dark:text-slate-200\",\n        children: date.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, date.fullKey, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)), employees.map(emp => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"employee-info-cell\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-slate-800 dark:text-slate-200 truncate-mobile text-sm sm:text-base\",\n          children: emp.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-slate-500 dark:text-slate-400 truncate-mobile\",\n          children: emp.responsibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-blue-500 dark:text-blue-400 mt-1 truncate-mobile\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-phone text-[10px]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 92\n          }, this), \" \", emp.contact]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), isEditable && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onRemoveEmployee(emp.id, emp.name),\n          className: \"text-red-300 hover:text-red-500 text-xs mt-1 self-start\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), dates.map(date => {\n        const assignment = getAssignmentForCell(emp.id, date.fullKey);\n        const assignedRole = assignment ? roles.find(r => r.id === assignment.role_id) : null;\n        const assignedTimeSlot = assignment ? timeSlots.find(t => t.id === assignment.time_slot_id) : null;\n        let cellClasses = 'grid-cell border-b border-r border-slate-100 dark:border-slate-800';\n        let cellStyle = {};\n        if (!isEditable) {\n          cellClasses += ' read-only-cell';\n        }\n        if (assignedRole) {\n          cellStyle.backgroundColor = `${assignedRole.color}15`;\n          cellStyle.borderLeft = `4px solid ${assignedRole.color}`;\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cellClasses,\n          style: cellStyle,\n          onClick: isEditable ? () => onCellClick(emp, date) : undefined,\n          children: assignedRole ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shift-tag text-white truncate\",\n              style: {\n                backgroundColor: assignedRole.color\n              },\n              children: assignedRole.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this), assignedTimeSlot && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-600 dark:text-slate-300 font-medium pl-1 truncate-mobile\",\n                children: assignedTimeSlot.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-[10px] text-slate-400 dark:text-slate-500 pl-1 truncate-mobile\",\n                children: assignedTimeSlot.time_range\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true) : isEditable && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-full flex items-center justify-center opacity-0 hover:opacity-100 text-slate-300 dark:text-slate-600 transition-opacity\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa-solid fa-plus-circle text-2xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 165\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }, this)\n        }, `${emp.id}-${date.fullKey}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this);\n      })]\n    }, emp.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(ScheduleGrid, \"byfRDkJ+t3MKhIwXgwbXYFaZtD0=\", false, function () {\n  return [useAuth];\n});\n_c = ScheduleGrid;\nexport default ScheduleGrid;\nvar _c;\n$RefreshReg$(_c, \"ScheduleGrid\");","map":{"version":3,"names":["React","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","ScheduleGrid","employees","dates","assignments","roles","timeSlots","onCellClick","onRemoveEmployee","isEditable","_s","currentUser","getAssignmentForCell","employeeId","dateFullKey","assignment","find","assign","employee_id","assignment_date","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","date","dayName","label","fullKey","emp","name","responsibility","contact","onClick","id","assignedRole","r","role_id","assignedTimeSlot","t","time_slot_id","cellClasses","cellStyle","backgroundColor","color","borderLeft","style","undefined","time_range","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/shiftmaster-webapp/shiftmaster-app/client/src/components/Schedulegrid.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useAuth } from './AuthContext';\r\n\r\nfunction ScheduleGrid({\r\n  employees,\r\n  dates,\r\n  assignments,\r\n  roles,\r\n  timeSlots,\r\n  onCellClick,\r\n  onRemoveEmployee,\r\n  isEditable\r\n}) {\r\n  const { currentUser } = useAuth();\r\n\r\n  const getAssignmentForCell = (employeeId, dateFullKey) => {\r\n    const assignment = assignments.find(assign =>\r\n      assign.employee_id === employeeId && assign.assignment_date === dateFullKey\r\n    );\r\n    return assignment;\r\n  };\r\n\r\n  if (employees.length === 0) {\r\n    return (\r\n      <div className=\"p-8 text-center text-slate-400 dark:text-slate-500 italic justify-center bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg flex\">\r\n        No employees found.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"schedule-grid\">\r\n      <div className=\"grid-header sticky left-0 z-20 border-r border-slate-200 dark:border-slate-700\">Employee</div>\r\n      {dates.map((date) => (\r\n        <div key={date.fullKey} className=\"grid-header border-r border-slate-200 dark:border-slate-700 last:border-r-0\">\r\n          <div className=\"text-xs opacity-70 uppercase\">{date.dayName}</div>\r\n          <div className=\"text-lg text-slate-700 dark:text-slate-200\">{date.label}</div>\r\n        </div>\r\n      ))}\r\n\r\n      {employees.map((emp) => (\r\n        <React.Fragment key={emp.id}>\r\n          <div className=\"employee-info-cell\">\r\n            <div className=\"font-bold text-slate-800 dark:text-slate-200 truncate-mobile text-sm sm:text-base\">{emp.name}</div>\r\n            <div className=\"text-xs text-slate-500 dark:text-slate-400 truncate-mobile\">{emp.responsibility}</div>\r\n            <div className=\"text-xs text-blue-500 dark:text-blue-400 mt-1 truncate-mobile\"><i className=\"fa-solid fa-phone text-[10px]\"></i> {emp.contact}</div>\r\n            {isEditable && (\r\n              <button\r\n                onClick={() => onRemoveEmployee(emp.id, emp.name)}\r\n                className=\"text-red-300 hover:text-red-500 text-xs mt-1 self-start\"\r\n              >\r\n                <i className=\"fa-solid fa-trash\"></i>\r\n              </button>\r\n            )}\r\n          </div>\r\n          {dates.map((date) => {\r\n            const assignment = getAssignmentForCell(emp.id, date.fullKey);\r\n            const assignedRole = assignment ? roles.find(r => r.id === assignment.role_id) : null;\r\n            const assignedTimeSlot = assignment ? timeSlots.find(t => t.id === assignment.time_slot_id) : null;\r\n\r\n            let cellClasses = 'grid-cell border-b border-r border-slate-100 dark:border-slate-800';\r\n            let cellStyle = {};\r\n            if (!isEditable) {\r\n              cellClasses += ' read-only-cell';\r\n            }\r\n\r\n            if (assignedRole) {\r\n              cellStyle.backgroundColor = `${assignedRole.color}15`;\r\n              cellStyle.borderLeft = `4px solid ${assignedRole.color}`;\r\n            }\r\n\r\n            return (\r\n              <div\r\n                key={`${emp.id}-${date.fullKey}`}\r\n                className={cellClasses}\r\n                style={cellStyle}\r\n                onClick={isEditable ? () => onCellClick(emp, date) : undefined}\r\n              >\r\n                {assignedRole ? (\r\n                  <>\r\n                    <div className=\"shift-tag text-white truncate\" style={{ backgroundColor: assignedRole.color }}>{assignedRole.name}</div>\r\n                    {assignedTimeSlot && (\r\n                      <>\r\n                        <div className=\"text-xs text-slate-600 dark:text-slate-300 font-medium pl-1 truncate-mobile\">{assignedTimeSlot.label}</div>\r\n                        <div className=\"text-[10px] text-slate-400 dark:text-slate-500 pl-1 truncate-mobile\">{assignedTimeSlot.time_range}</div>\r\n                      </>\r\n                    )}\r\n                  </>\r\n                ) : (isEditable && (\r\n                  <div className=\"w-full h-full flex items-center justify-center opacity-0 hover:opacity-100 text-slate-300 dark:text-slate-600 transition-opacity\"><i className=\"fa-solid fa-plus-circle text-2xl\"></i></div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ScheduleGrid;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}